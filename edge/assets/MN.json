{
  "mixed-port": 7890,
  "ipv6": true,
  "allow-lan": true,
  "mode": "rule",
  "log-level": "info",
  "keep-alive-interval": 30,
  "unified-delay": false,
  "dns": {
      "enable": true,
      "listen": "0.0.0.0:1053",
      "ipv6": true,
      "respect-rules": true,
      "use-hosts": true,
      "use-system-hosts": false,
      "nameserver": [
          "1.1.1.1",
          "1.0.0.1",
          "[2606:4700:4700::1111]",
          "[2606:4700:4700::1001]"
      ],
      "proxy-server-nameserver": [
          "8.8.8.8"
      ],
      "nameserver-policy": {
          "geosite:category-ir": [
              "8.8.8.8"
          ],
          "www.gstatic.com": [
              "8.8.8.8"
          ]
      }
  },
  "tun": {
      "enable": true,
      "stack": "mixed",
      "auto-route": true,
      "strict-route": true,
      "auto-redirect": true,
      "auto-detect-interface": true,
      "dns-hijack": [
          "any:53"
      ],
      "mtu": 9000
  },
  "sniffer": {
      "enable": true,
      "force-dns-mapping": true,
      "parse-pure-ip": true,
      "sniff": {
          "HTTP": {
              "ports": [
                  80,
                  8080,
                  8880,
                  2052,
                  2082,
                  2086,
                  2095
              ],
              "override-destination": false
          },
          "TLS": {
              "ports": [
                  443,
                  8443,
                  2053,
                  2083,
                  2087,
                  2096
              ],
              "override-destination": false
          }
      }
  },
  "proxies": [
    {
      "name": "Warp IR - IPv4",
      "type": "wireguard",
      "ip": "172.16.0.2/32",
      "ipv6": "2606:4700:110:8875:1644:47c0:47a1:8bc5/128",
      "private-key": "REPLACE_ME",
      "server": "REPLACE_ME",
      "port": "REPLACE_ME",
      "public-key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",
      "allowed-ips": ["0.0.0.0/0", "::/0"],
      "reserved": "AAAA",
      "udp": true,
      "mtu": 1380,
      "dialer-proxy": "Warp DE - IPv4",
      "remote-dns-resolve": true,
      "dns": ["1.1.1.1", "1.0.0.1"],
      "amnezia-wg-option": {
        "jc": 4,
        "jmin": 40,
        "jmax": 100,
        "s1": 0,
        "s2": 0,
        "h1": 1,
        "h2": 2,
        "h4": 3,
        "h3": 4
      }
    },
    {
      "name": "Warp DE - IPv4",
      "type": "wireguard",
      "ip": "172.16.0.2/32",
      "ipv6": "2606:4700:110:8875:1644:47c0:47a1:8bc5/128",
      "private-key": "REPLACE_ME",
      "server": "REPLACE_ME",
      "port": "REPLACE_ME",
      "public-key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",
      "allowed-ips": ["0.0.0.0/0", "::/0"],
      "reserved": "AAAA",
      "udp": true,
      "mtu": 1280,
      "dialer-proxy": "",
      "dns": ["1.1.1.1", "1.0.0.1"]
    },
    {
      "name": "Warp IR - IPv6",
      "type": "wireguard",
      "ip": "172.16.0.2/32",
      "ipv6": "2606:4700:110:8875:1644:47c0:47a1:8bc5/128",
      "private-key": "REPLACE_ME",
      "server": "REPLACE_ME",
      "port": "REPLACE_ME",
      "public-key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",
      "allowed-ips": ["0.0.0.0/0", "::/0"],
      "reserved": "AAAA",
      "udp": true,
      "mtu": 1380,
      "dialer-proxy": "Warp SE - IPv6",
      "dns": ["1.1.1.1", "1.0.0.1"],
      "amnezia-wg-option": {
        "jc": 4,
        "jmin": 40,
        "jmax": 100,
        "s1": 0,
        "s2": 0,
        "h1": 1,
        "h2": 2,
        "h4": 3,
        "h3": 4
      }
    },
    {
      "name": "Warp SE - IPv6",
      "type": "wireguard",
      "ip": "172.16.0.2/32",
      "ipv6": "2606:4700:110:8875:1644:47c0:47a1:8bc5/128",
      "private-key": "REPLACE_ME",
      "server": "REPLACE_ME",
      "port": "REPLACE_ME",
      "public-key": "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",
      "allowed-ips": ["0.0.0.0/0", "::/0"],
      "reserved": "AAAA",
      "udp": true,
      "mtu": 1280,
      "dialer-proxy": "",
      "dns": ["1.1.1.1", "1.0.0.1"]
    }
  ],
  "proxy-groups": [],
  "rule-providers": {
    "malware": {
      "type": "http",
      "format": "text",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/malware.txt",
      "path": "./ruleset/malware.txt",
      "interval": 86400
    },
    "phishing": {
      "type": "http",
      "format": "text",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/phishing.txt",
      "path": "./ruleset/phishing.txt",
      "interval": 86400
    },
    "cryptominers": {
      "type": "http",
      "format": "text",
      "behavior": "domain",
      "url": "https://raw.githubusercontent.com/Chocolate4U/Iran-clash-rules/release/cryptominers.txt",
      "path": "./ruleset/cryptominers.txt",
      "interval": 86400
    }
  },
  "rules": [
    "RULE-SET,malware,REJECT",
    "RULE-SET,phishing,REJECT",
    "RULE-SET,cryptominers,REJECT"
  ],
  "ntp": {
    "enable": true,
    "server": "time.apple.com",
    "port": 123,
    "interval": 30
  }
}
